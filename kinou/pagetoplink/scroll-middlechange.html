<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>スクロール途中からリンクボタンの形状が変化</title>
    <link rel="stylesheet" href="http://design.piala-demo.info/test/ugokuweb/css/common.css" />
    <style>
        /*========= ページトップのためのCSS ===============*/

        /*スクロールリンクの形状*/
        .scroll-top {
            /*表示位置*/
            position: fixed;
            right: 50px;
            bottom: 50px;
            z-index: 2;
            /*はじめは非表示*/
            opacity: 0;
            visibility: hidden;
            transition: opacity .5s, visibility .5s;
            /*それぞれに0.5秒の変化のアニメーション*/
            /*縦書き*/
            -webkit-writing-mode: vertical-rl;
            -ms-writing-mode: tb-rl;
            writing-mode: vertical-rl;
            /*改行禁止*/
            white-space: nowrap;
            /*矢印の動き*/
            animation: arrowmove 1s ease-in-out infinite;
        }

        @keyframes arrowmove {
            0% {
                bottom: 50px;
            }

            50% {
                bottom: 55px;
            }

            100% {
                bottom: 50px;
            }
        }


        /*.scroll-viewクラスがついたら出現*/
        .scroll-top.scroll-view {
            opacity: 1;
            visibility: visible;
        }

        /*リンク全体の aタグの形状*/
        .scroll-top a {
            text-decoration: none;
            color: #666;
            text-transform: uppercase;
            font-size: 13px;
            display: block;
        }

        /*スクロールリンクの形状*/

        .js-scroll a::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 50px;
            background: #666;
        }

        .js-scroll a::before {
            content: "";
            position: absolute;
            top: 30px;
            right: -6px;
            width: 1px;
            height: 20px;
            background: #666;
            transform: skewX(-31deg);
        }

        /*Edge IE11 hack*/
        _:-ms-lang(x),
        .js-scroll a::before {
            right: -11px;
        }

        /*ページトップリンクの形状*/

        .js-pagetop a::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 50px;
            background: #666;
        }

        .js-pagetop a::before {
            content: "";
            position: absolute;
            top: 0;
            right: -6px;
            width: 1px;
            height: 20px;
            background: #666;
            transform: skewX(31deg);
        }

        /*Edge IE11 hack*/
        _:-ms-lang(x),
        .js-pagetop a::before {
            right: 0;
        }

        /*========= レイアウトのためのCSS ===============*/
        main {
            max-width: 750px;
            margin: 0 auto;
        }

        body {
            font-size: 18px;
        }

        h1 {
            font-size: 25px;
            font-weight: bold;
        }

        h2 {
            font-size: 25px;
            text-align: center;
            margin: 0 0 30px 0;
            font-weight: bold;
        }

        p {
            margin-top: 20px;
        }

        small {
            color: #fff;
            display: block;
            text-align: center;
        }

        #header {
            background: #333;
            color: #fff;
            text-align: center;
            padding: 20px;
        }

        section {
            padding: 100px 30px;
        }


        section:nth-child(1) {
            min-height: 100vh;
        }

        section:nth-child(2n) {
            background: #f3f3f3;
        }

        #footer {
            background: #333;
            position: relative;
            z-index: 2;
            padding: 100px 20px;

        }
    </style>
</head>

<body>
    <div id="wrapper">
        <div id="content">
            <header id="header">
                <h1>Logo</h1>
            </header>

            <main>
                <section id="area-1">
                    <h2>Area 1</h2>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <!--/area1-->
                </section>
                <section id="area-2">
                    <h2>Area 2</h2>
                    <!--/area2-->
                </section>
                <section id="area-3">
                    <h2>Area 3</h2>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>

                    <!--/area3-->
                </section>
                <section id="area-4">
                    <h2>Area 4</h2>
                    <!--/area4-->
                </section>
                <section id="area-5">
                    <h2>Area 5</h2>

                    <p>テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。</p>
                    <!--/area5-->
                </section>
                <!--/main-->
            </main>

            <footer id="footer">
                <p class="js-scroll scroll-top scroll-view"><a href="#area-2">Scroll</a></p>
                <p class="js-pagetop scroll-top"><a href="#">Page Top</a></p>
                <small>&copy; copyright.</small>
            </footer>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        //スクロールした際の動きを関数でまとめる
        function PageTopCheck() {
            var winScrollTop = $(this).scrollTop();
            var secondTop = $("#area-2").offset().top - 150; //#area-2の上から150pxの位置まで来たら
            if (winScrollTop >= secondTop) {
                $('.js-scroll').removeClass('scroll-view');//.js-scrollからscroll-viewというクラス名を除去
                $('.js-pagetop').addClass('scroll-view');//.js-pagetopにscroll-viewというクラス名を付与
            } else {//元に戻ったら
                $('.js-scroll').addClass('scroll-view');//.js-scrollからscroll-viewというクラス名を付与
                $('.js-pagetop').removeClass('scroll-view');//.js-pagetopからscroll-viewというクラス名を除去
            }

        }

        //クリックした際の動き
        $('.scroll-top a').click(function () {
            var elmHash = $(this).attr('href'); //hrefの内容を取得
            if (elmHash == "#area-2") {//もし、リンク先のhref の後が#area-2の場合
                var pos = $(elmHash).offset().top;
                $('body,html').animate({ scrollTop: pos }, pos); //#area-2にスクロール
            } else {
                $('body,html').animate({ scrollTop: 0 }, 500); //それ以外はトップへスクロール。数字が大きくなるほどゆっくりスクロール
            }
            return false;//リンク自体の無効化
        });

        // 画面をスクロールをしたら動かしたい場合の記述
        $(window).scroll(function () {
            PageTopCheck();/* スクロールした際の動きの関数を呼ぶ*/
        });

        // ページが読み込まれたらすぐに動かしたい場合の記述
        $(window).on('load', function () {
            PageTopCheck();/* スクロールした際の動きの関数を呼ぶ*/
        });
    </script>
</body>

</html>