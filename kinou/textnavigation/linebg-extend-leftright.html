<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>左から右に線が伸びて背景になる</title>
    <link rel="stylesheet" href="http://design.piala-demo.info/test/ugokuweb/css/common.css" />
    <style>
     @charset "utf-8";
    /*==================================================
    共通　横並びのための設定
    ===================================*/

    .gnavi{
        display: flex;
        flex-wrap: wrap;/*スマホ表示折り返し用なのでPCのみなら不要*/
        margin:0 0 50px 0;
        list-style: none;
    }

    .gnavi li a{
        display: block;
        padding:10px 30px;
        text-decoration: none;
        color: #333;
    }

    .gnavi li{
        margin-bottom:20px;
    }

    /*==================================================
    　5-3-6 左から右に線が伸びて背景になる
    ===================================*/

    /*背景の設定*/

    .gnavi li a{
        /*背景色の基点とするためrelativeを指定*/
      position: relative;
        /*アニメーションの指定*/
      transition: all .7s;
    }

    .gnavi li a::after {
      content: '';
        /*絶対配置で線の位置を決める*/
      position: absolute;
      z-index: -1;
      bottom: 0;
      left: 0;
        /*背景の形状*/
      width: 0;
      height: 1px;
      background:#0481A2;
      opacity: 0;/*はじめは透過を0に*/
    }

    /*現在地とhoverの設定*/
    .gnavi li.current a::after,
    .gnavi li a:hover::after {
        /*背景の形状*/
      width: 100%;
      opacity: 1;
        /*アニメーションの指定*/
      animation:bgappear 0.5s forwards;
    }

    /*アニメーションで線を伸ばして背景をつける*/
    @keyframes bgappear{
      0% {
        width: 0%;
        height: 1px;
      }
      50% {
        width: 100%;
        height: 1px;
      }
      100% {
        width: 100%;
        height: 100%;
        background: #0481A2;
      }
    }

    /*現在地とhoverの設定*/
    .gnavi li.current a,
    .gnavi li a:hover{
        color: #fff;
        /*テキストを最前面へ*/
      z-index: 1;
    }
    /*========= レイアウトのためのCSS ===============*/

    .lead{
      padding: 50px 20px;
    }
    </style>
</head>

<body>
    <div id="wrapper">
      <h1 class="title">左から右に線が伸びて背景になる</h1>
      <div id="content">
        <ul class="gnavi">
          <li class="current"><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Service</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </div>
</body>
</html>